<!DOCTYPE html>
<html>
<head>
    <title>Contract Events</title>
</head>
<body>
    <h1>Contract Events</h1>
    <button onclick="getContractEvents()">Fetch Events</button>
    <table id="eventTable" border="1">
        <thead>
            <tr>
                <th>Contract Address</th>
                <th>Event Data</th>
                <th>Event Topics</th>
            </tr>
        </thead>
        <tbody id="eventTableBody"></tbody>
    </table>
    <script>
        // Replace with your contract address
const contractAddress = '0x24D7A1862a219Bb27af9cbbBE29d01F68461e9e7';

// Replace with your Etherscan API key
const apiKey = 'AFFD2SXUNV3RY968V4442KMBP4928IBMJ7';

async function getContractEvents() {
    const apiUrl = `https://api.etherscan.io/api?module=logs&action=getLogs&fromBlock=0&toBlock=latest&address=${contractAddress}&apikey=${apiKey}`;

    try {
        const response = await fetch(apiUrl);
        const data = await response.json();

        if (data.status === '1') {
            const events = data.result;

            // Get the table body element to populate the events
            const tableBody = document.getElementById('eventTableBody');

            // Clear previous data in the table
            tableBody.innerHTML = '';

            events.forEach(event => {
                const { address, data, topics } = event;

                // Create a new row for each event and populate the cells
                const newRow = tableBody.insertRow();
                const addressCell = newRow.insertCell();
                const dataCell = newRow.insertCell();
                const topicsCell = newRow.insertCell();

                addressCell.textContent = address;
                dataCell.textContent = data;
                topicsCell.textContent = JSON.stringify(topics);
            });
        } else {
            console.error('Error fetching contract events:', data.message);
        }
    } catch (error) {
        console.error('Error fetching contract events:', error);
    }
}

    </script>
</body>
</html>
