<!DOCTYPE html>
<html>
<head>
    <title>Fetch Newly Created Tokens</title>
</head>
<body>
    <h1>Newly Created Tokens (Within 1 Hour)</h1>
    <ul id="tokenList">
    </ul>

    <script>
        // Replace YOUR_ETHERSCAN_API_KEY with your actual Etherscan API key
        const etherscanApiKey = 'AFFD2SXUNV3RY968V4442KMBP4928IBMJ7';
        const etherscanApiUrl = `https://api.etherscan.io/api?module=account&action=txlistinternal&address=0x0000000000000000000000000000000000000000&sort=desc&apikey=${etherscanApiKey}`;

        async function fetchNewlyCreatedTokens() {
            try {
                const response = await fetch(etherscanApiUrl);
                const data = await response.json();

                if (data.status === '1' && data.message === 'OK') {
                    const transactions = data.result.filter(tx => {
                        const currentTimestamp = Math.floor(Date.now() / 1000); // Current Unix timestamp
                        const txTimestamp = parseInt(tx.timeStamp);
                        return (currentTimestamp - txTimestamp) <= 3600; // Check if within 1 hour (3600 seconds)
                    });
                    displayTokens(transactions);
                } else {
                    console.error('Failed to fetch data:', data.message);
                }
            } catch (error) {
                console.error('Error fetching data:', error);
            }
        }

        function displayTokens(transactions) {
            const tokenList = document.getElementById('tokenList');
            tokenList.innerHTML = '';

            transactions.forEach(tx => {
                const listItem = document.createElement('li');
                const tokenLink = document.createElement('a');
                tokenLink.href = `https://etherscan.io/tx/${tx.hash}`;
                tokenLink.textContent = `Transaction Hash: ${tx.hash}`;
                listItem.appendChild(tokenLink);

                const timestamp = new Date(parseInt(tx.timeStamp) * 1000);
                const timeElement = document.createElement('p');
                timeElement.textContent = `Creation Date: ${timestamp}`;
                listItem.appendChild(timeElement);

                tokenList.appendChild(listItem);
            });
        }

        // Fetch transactions on page load
        window.addEventListener('load', () => {
            fetchNewlyCreatedTokens();
        });
    </script>
</body>
</html>
